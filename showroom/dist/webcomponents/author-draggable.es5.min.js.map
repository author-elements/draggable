{"version":3,"file":"author-draggable.es5.min.js","sources":["../src/element.js"],"sourcesContent":["class AuthorDraggableElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineAttributes({\n      direction: {\n        default: null\n      },\n\n      disabled: {\n        default: false\n      },\n\n      free: {\n        default: false\n      },\n\n      'max-drag-distance': {\n        default: null\n      },\n\n      'min-drag-distance': {\n        default: null\n      },\n\n      type: {\n        default: null\n      },\n    })\n\n    this.UTIL.defineProperties({\n      acceptedConstraintKeys: {\n        private: true,\n        readonly: true,\n        default: [\n          'x',\n          'y',\n          'up',\n          'right',\n          'down',\n          'left'\n        ]\n      },\n\n      canDrop: {\n        private: true,\n        default: false\n      },\n\n      clone: {\n        private: true,\n        default: null\n      },\n\n      constraints: {\n        private: true,\n        readonly: true,\n        get: () => {\n          if (!this.direction) {\n            return null\n          }\n\n          return this.direction.replace(/\\s+/g,' ').trim().split(' ')\n        }\n      },\n\n      data: {\n        default: null\n      },\n\n      dimensions: {\n        private: true,\n        readonly: true,\n        get: () => this.getBoundingClientRect()\n      },\n\n      dragArea: {\n        private: true,\n        readonly: true,\n        get: () => {\n          let dragAreas = document.querySelectorAll('author-dragarea')\n\n          for (let dragArea of dragAreas) {\n            if (dragArea.contains(this)) {\n              return dragArea\n            }\n          }\n\n          return document.body\n        }\n      },\n\n      dragIsActive: {\n        private: true,\n        default: false\n      },\n\n      dropTargets: {\n        private: true,\n        default: null\n      },\n\n      initialPosition: {\n        private: true,\n        default: null\n      },\n\n      initialTimestamp: {\n        private: true,\n        default: null\n      },\n\n      pointerEventsSupported: {\n        private: true,\n        readonly: true,\n        default: window.PointerEvent === undefined ? false : true\n      },\n\n      pointerOffset: {\n        private: true,\n        default: null\n      },\n\n      userIsTouching: {\n        private: true,\n        default: false\n      },\n\n      types: {\n        private: true,\n        readonly: true,\n        get: () => {\n          if (!this.type) {\n            return null\n          }\n\n          return this.type.replace(/\\s+/g,' ').trim().split(' ')\n        }\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      forwardEvent: (evt, newEvtName, detail = {}, target = this) => {\n        evt.preventDefault()\n\n        detail.originalEvent = evt\n\n        if (!this.PRIVATE.pointerEventsSupported) {\n          this.emit({\n            name: newEvtName,\n            detail,\n            target\n          })\n        }\n      },\n\n      // Polyfill for Firefox bug from 2002 :|\n      // window.getComputedStyle(el).cssText returns \"\"\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=137687\n      getComputedStylesCssText: element => {\n        let computed = window.getComputedStyle(element)\n        let acc = []\n\n        if (computed.cssText !== '') {\n          return computed.cssText\n        }\n\n        for (let property in computed) {\n          if (typeof computed[property] === 'string') {\n            acc.push(`${property}: ${computed[property]}`)\n          }\n        }\n\n        return acc.join('; ')\n      },\n\n      handshakeAcceptedHandler: evt => {\n        let { dropTarget } = evt.detail\n\n        this.PRIVATE.dropTargets.push(dropTarget)\n        dropTarget.on('drop.allow', evt => this.PRIVATE.canDrop = true)\n        dropTarget.on('drop.deny', evt => this.PRIVATE.canDrop = false)\n      },\n\n      initializeClone: () => {\n        this.setAttribute('dragging', '')\n\n        this.PRIVATE.clone = this.cloneNode(true)\n        this.PRIVATE.synchronizeStyles()\n        this.PRIVATE.clone.sourceElement = this\n\n        this.removeAttribute('dragging')\n        this.PRIVATE.clone.setAttribute('clone', '')\n\n        document.body.appendChild(this.PRIVATE.clone)\n      },\n\n      pointerupHandler: evt => {\n        this.emit({\n          name: 'drag.end',\n          detail: this.PRIVATE.getEventData(evt, {\n            drag: {\n              distance: this.PRIVATE.getDragDistance(evt),\n              duration: evt.timeStamp - this.PRIVATE.initialTimestamp\n            },\n            position: this.PRIVATE.getPointerPosition(evt, false)\n          })\n        })\n\n        this.PRIVATE.reset()\n      },\n\n      mouseupHandler: evt => {\n        this.PRIVATE.forwardEvent(evt, 'pointerup', {}, document.body)\n      },\n\n      touchendHandler: evt => {\n        // document.removeEventListener(this.PRIVATE.pointerEventsSupported ? 'pointermove' : 'mousemove', this.PRIVATE.pointerMoveHandler)\n      },\n\n      applyBodyListeners: () => {\n        document.body.addEventListener('pointerup', this.PRIVATE.pointerupHandler)\n        document.body.addEventListener('mouseup', this.PRIVATE.mouseupHandler)\n        document.body.addEventListener('touchend', this.PRIVATE.touchendHandler)\n      },\n\n      removeBodyListeners: () => {\n        document.body.removeEventListener('pointerup', this.PRIVATE.pointerupHandler)\n        document.body.removeEventListener('mouseup', this.PRIVATE.mouseupHandler)\n        document.body.removeEventListener('touchend', this.PRIVATE.touchendHandler)\n        document.body.removeEventListener(this.PRIVATE.pointerEventsSupported ? 'pointermove' : 'mousemove', this.PRIVATE.pointerMoveHandler)\n      },\n\n      initiateDrag: () => {\n        this.PRIVATE.applyBodyListeners()\n\n        this.setAttribute(this.free ? 'dragging' : 'ghost', '')\n        this.PRIVATE.dragIsActive = true\n        // this.emit(new CustomEvent('after.drag.start', this.PRIVATE.getEventData(evt, {\n        //\n        // })))\n      },\n\n      getRelativePointerPosition: (relWidth, relHeight, left, top) => {\n        let right = relWidth - left\n        let bottom = relHeight - top\n\n        return {\n          x: left,\n          y: top,\n\n          top: {\n            px: top,\n            pct: this.UTIL.getPercentageDecimal(top, relHeight)\n          },\n\n          right: {\n            px: right,\n            pct: this.UTIL.getPercentageDecimal(right, relWidth)\n          },\n\n          bottom: {\n            px: bottom,\n            pct: this.UTIL.getPercentageDecimal(bottom, relHeight)\n          },\n\n          left: {\n            px: left,\n            pct: this.UTIL.getPercentageDecimal(left, relWidth)\n          }\n        }\n      },\n\n      getPercentageDecimal: (portion, whole, decimalPlaces = null) => {\n        let decimal = portion / whole\n\n        if (decimal < 0) {\n          return 0\n        }\n\n        if (decimalPlaces !== null) {\n          return decimal.toFixed(decimalPlaces)\n        }\n\n        return decimal\n      },\n\n      getPointerPosition: (evt, offset = true, client = true, doc = true,) => {\n        let obj = {}\n\n        if (offset) {\n          obj.offset = this.PRIVATE.getRelativePointerPosition(this.offsetWidth, this.offsetHeight, evt.offsetX, evt.offsetY)\n        }\n\n        if (client) {\n          obj.client = this.PRIVATE.getRelativePointerPosition(document.documentElement.clientWidth, document.documentElement.clientHeight, evt.clientX, evt.clientY)\n        }\n\n        if (doc) {\n          obj.document = this.PRIVATE.getRelativePointerPosition(document.documentElement.scrollWidth, document.documentElement.scrollHeight, evt.pageX, evt.pageY)\n        }\n\n        return obj\n      },\n\n      getEventData: (evt, props = {}) => {\n        let config = {\n          cancelable: true,\n          composed: true,\n\n          detail: Object.assign({}, {\n            altKey: evt.altKey,\n            ctrlKey: evt.ctrlKey,\n            metaKey: evt.metaKey,\n            shiftKey: evt.shiftKey,\n            types: this.PRIVATE.types\n          }, props)\n        }\n\n        Object.defineProperty(config.detail, 'data', {\n          set: value => this.data = value,\n          get: () => this.data\n        })\n\n        return config\n      },\n\n      pointerMoveHandler: evt => {\n        if (!this.PRIVATE.dragIsActive) {\n          if (!this.free) {\n            this.PRIVATE.initializeClone()\n          }\n\n          let dragstartEvent = this.emit({\n            name: 'drag.start',\n            detail: this.PRIVATE.getEventData(evt, {\n              position: this.PRIVATE.getPointerPosition(evt)\n            })\n          })\n\n          if (dragstartEvent.defaultPrevented) {\n            return\n          }\n\n          this.PRIVATE.initiateDrag()\n        }\n\n        let dragEvent = this.emit({\n          name: 'drag',\n          detail: this.PRIVATE.getEventData(evt, {\n            canDrop: this.PRIVATE.canDrop,\n            drag: {\n              distance: this.PRIVATE.getDragDistance(evt),\n              duration: evt.timeStamp - this.PRIVATE.initialTimestamp\n            },\n            position: this.PRIVATE.getPointerPosition(evt, false)\n          })\n        })\n\n        if (dragEvent.defaultPrevented) {\n          return\n        }\n\n        this.PRIVATE.updatePosition(evt)\n      },\n\n      getDragDistance: evt => ({\n        x: Math.abs(this.PRIVATE.initialPosition.x - evt.pageX),\n        y: Math.abs(this.PRIVATE.initialPosition.y - evt.pageY)\n      }),\n\n      reset: () => {\n        if (this.free) {\n          this.removeAttribute('dragging')\n        } else {\n          this.removeAttribute('ghost')\n\n          if (this.PRIVATE.clone !== null) {\n            document.body.removeChild(this.PRIVATE.clone)\n            this.PRIVATE.clone = null\n          }\n        }\n\n        this.PRIVATE.dragIsActive = false\n        this.PRIVATE.pointerOffset = null\n        this.PRIVATE.removeBodyListeners()\n        this.PRIVATE.dropTargets = null\n        this.PRIVATE.initialPosition = null\n        this.PRIVATE.initialTimestamp = null\n      },\n\n      storeDropTargets: () => {\n        this.PRIVATE.dropTargets = []\n        let allDropTargets = document.querySelectorAll('author-droptarget')\n\n        this.on('handshake.accepted', this.PRIVATE.handshakeAcceptedHandler)\n\n        for (let dropTarget of allDropTargets) {\n          this.emit({\n            name: 'handshake.offered',\n            detail: {\n              draggable: this,\n              types: this.PRIVATE.types\n            },\n\n            target: dropTarget\n          })\n        }\n\n        this.off('handshake.accepted', this.PRIVATE.handshakeHandler)\n      },\n\n      synchronizeStyles: () => {\n        let { clone, getComputedStylesCssText } = this.PRIVATE\n\n        clone.style.cssText = getComputedStylesCssText(this)\n\n        let children = this.getElementsByTagName('*')\n        let cloneChildren = clone.getElementsByTagName('*')\n\n        if (children.length > 0) {\n          for (let i = 0; i < children.length; i++) {\n            cloneChildren[i].style.cssText = getComputedStylesCssText(children[i])\n          }\n        }\n      },\n\n      updatePosition: evt => {\n        let { clone, dimensions, originalCoordinates, pointerOffset } = this.PRIVATE\n        let newCoordinates = {\n          x: evt.clientX - pointerOffset.x,\n          y: evt.clientY - pointerOffset.y\n        }\n\n        if (this.free) {\n          newCoordinates = {\n            x: newCoordinates.x - (originalCoordinates.x - window.scrollX),\n            y: newCoordinates.y - (originalCoordinates.y - window.scrollY)\n          }\n\n          return this.UTIL.setStyleProperty('dragging', 'transform', `translate(${newCoordinates.x}px, ${newCoordinates.y}px)`)\n        }\n\n        clone.UTIL.setStyleProperties('dragging', [\n          {\n            name: 'left',\n            value: `${newCoordinates.x}px`,\n            important: true\n          },\n          {\n            name: 'top',\n            value: `${newCoordinates.y}px`,\n            important: true\n          }\n        ])\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.changed': evt => {\n        let { attribute, newValue, oldValue } = evt.detail\n\n        switch (attribute) {\n          case 'free':\n            if (!this.free) {\n              this.UTIL.removeStyleProperty('dragging', 'transform')\n            }\n            break\n        }\n      },\n\n      connected: () => {\n        this.UTIL.insertStyleRule('dragging', ':host {}')\n\n        this.emit({\n          name: 'author-draggable.connected',\n          detail: {\n            draggable: this\n          },\n\n          target: window\n        })\n      },\n\n      mousedown: evt => {\n        if (this.PRIVATE.userIsTouching) {\n          return evt.preventDefault()\n        }\n\n        this.PRIVATE.forwardEvent(evt, 'pointerdown')\n      },\n\n      touchstart: evt => {\n        evt.preventDefault()\n        this.PRIVATE.userIsTouching = true\n        this.PRIVATE.forwardEvent(evt, 'pointerdown')\n      },\n\n      pointerup: evt => {\n        this.PRIVATE.reset()\n      },\n\n      pointerdown: evt => {\n        let client = {}\n\n        this.PRIVATE.initialTimestamp = evt.timeStamp\n\n        if (evt instanceof CustomEvent) {\n          client.x = evt.detail.originalEvent.clientX\n          client.y = evt.detail.originalEvent.clientY\n        } else {\n          client.x = evt.clientX\n          client.y = evt.clientY\n        }\n\n        this.PRIVATE.initialPosition = {\n          x: client.x,\n          y: client.y\n        }\n\n        this.PRIVATE.pointerOffset = {\n          x: client.x - this.PRIVATE.dimensions.left,\n          y: client.y - this.PRIVATE.dimensions.top\n        }\n\n        document.body.addEventListener(this.PRIVATE.pointerEventsSupported ? 'pointermove' : 'mousemove', this.PRIVATE.pointerMoveHandler)\n        this.PRIVATE.storeDropTargets()\n      },\n\n      rendered: () => {\n        this.UTIL.defineProperty('originalCoordinates', {\n          private: true,\n          readonly: true,\n          default: {\n            x: this.PRIVATE.dimensions.left + window.scrollX,\n            y: this.PRIVATE.dimensions.top + window.scrollY\n          }\n        })\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return ['direction', 'disabled', 'free', 'min-drag-distance', 'max-drag-distance', 'type']\n  }\n}\n\ncustomElements.define('author-draggable', AuthorDraggableElement)\n\nexport default AuthorDraggableElement\n"],"names":["AuthorDraggableElement","UTIL","defineAttributes","direction","default","disabled","free","type","defineProperties","acceptedConstraintKeys","private","readonly","canDrop","clone","constraints","get","_this","replace","trim","split","data","dimensions","getBoundingClientRect","dragArea","dragAreas","document","querySelectorAll","contains","body","dragIsActive","dropTargets","initialPosition","initialTimestamp","pointerEventsSupported","undefined","window","PointerEvent","pointerOffset","userIsTouching","types","definePrivateMethods","forwardEvent","evt","newEvtName","detail","target","preventDefault","originalEvent","PRIVATE","emit","name","getComputedStylesCssText","element","computed","getComputedStyle","acc","cssText","property","push","join","handshakeAcceptedHandler","dropTarget","on","initializeClone","setAttribute","cloneNode","synchronizeStyles","sourceElement","removeAttribute","appendChild","pointerupHandler","getEventData","drag","distance","getDragDistance","duration","timeStamp","position","getPointerPosition","reset","mouseupHandler","touchendHandler","applyBodyListeners","addEventListener","removeBodyListeners","removeEventListener","pointerMoveHandler","initiateDrag","getRelativePointerPosition","relWidth","relHeight","left","top","right","bottom","x","y","px","pct","getPercentageDecimal","portion","whole","decimalPlaces","decimal","toFixed","offset","client","doc","obj","offsetWidth","offsetHeight","offsetX","offsetY","documentElement","clientWidth","clientHeight","clientX","clientY","scrollWidth","scrollHeight","pageX","pageY","props","config","cancelable","composed","Object","assign","altKey","ctrlKey","metaKey","shiftKey","defineProperty","set","value","defaultPrevented","updatePosition","Math","abs","removeChild","storeDropTargets","allDropTargets","draggable","off","handshakeHandler","style","children","getElementsByTagName","cloneChildren","length","i","originalCoordinates","newCoordinates","scrollX","scrollY","setStyleProperty","setStyleProperties","important","registerListeners","attribute","newValue","oldValue","removeStyleProperty","connected","insertStyleRule","mousedown","touchstart","pointerup","pointerdown","CustomEvent","rendered","AuthorBaseElement","HTMLElement","customElements","define"],"mappings":"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"}